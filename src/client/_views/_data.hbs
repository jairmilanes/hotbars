{{#extend "_default" title="Data"}}
  {{#content "main"}}
    <section
      class="container mx-auto grow flex flex-col relative overflow-hidden"
    >
      {{#embed "_card" layout="grid" title="" padding=0 class="overflow-hidden grow"}}
        {{#content "content"}}
          <div class="grow relative flex flex-col flex-1 col-span-4 py-0 overflow-hidden bg-gray-200 dark:bg-gray-800">
            <div id="hb-collections" class="grow overflow-auto"></div>
            <div id="hb-data-items-footer" class="p-2 border-t text-gray-700 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700">
              <div id="hb-collection-form" class="hidden">
                {{#embed "_form"
                   id="collection-form"
                   action="/_api/collections"
                   method="POST"
                   ajax=true
                   validation=false
                   layout="col"
                }}
                  {{#content "body"}}
                    <div class="flex gap-4">
                      {{{embed "_input" name="single" type="radio" label="Multi entry" checked=true value="false"}}}
                      {{{embed "_input" name="single" type="radio" label="Single entry" checked=false value="true"}}}
                    </div>
                    {{{embed "_input" name="name" type="text" placeholder="New collection name" autofocus=true}}}
                  {{/content}}
                  {{#content "submit"}}
                    <div class="flex gap-2">
                      {{{embed "_button" id="hb-save-collection" type="submit" text="Create colection" width="full" color="rose" suffixIcon="plus-circle.icon" class="grow"}}}
                      {{{embed "_button" id="hb-cancel-collection" color="gray" suffixIcon="close.icon" attributes=(attr hb-swap="hb-new-collection" hb-swap-target="hb-collection-form")}}}
                    </div>
                  {{/content}}
                {{/embed}}
              </div>
              {{{embed "_button" id="hb-new-collection" text="Create new" width="full" color="gray" suffixIcon="plus-circle.icon" attributes=(attr hb-swap="hb-collection-form")}}}
            </div>
            <div hb-loader="true" class="hidden flex justify-center items-center absolute top-0 bottom-0 left-0 right-0">
              {{{embed "_spinner" size="14"}}}
            </div>
          </div>
          <div class="relative flex flex-col col-span-4 border-l border-gray-200 dark:border-gray-700 overflow-hidden">
            <div id="hb-data-items" class="bg-white dark:bg-gray-900 overflow-auto grow"></div>
            <div id="hb-data-items-footer" class="p-2 border-t text-gray-700 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700">
              {{{embed "_button" id="hb-new-collection-item" class=null text="Create new" width="full" color="gray" suffixIcon="plus-circle.icon"}}}
            </div>
            <div hb-loader="true" class="hidden flex justify-center items-center absolute top-0 bottom-0 left-0 right-0">
              {{{embed "_spinner" size="14"}}}
            </div>
          </div>
          <div class="relative grow flex flex-col col-span-4 border-l border-gray-200 dark:border-gray-700 overflow-hidden">
            <div id="hb-item-actions" class="hidden flex items-center p-2 border-t text-gray-700 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700">
              <h4 class="grow opacity-[75%]"></h4>
              {{{embed "_button" id="hb-edit-item" class=null text="Edit" style="link"}}}
              {{{embed "_confirm-button" id="hb-remove-item" class=null text="Remove" style="link"}}}
            </div>
            <div id="hb-data-item" class="bg-white h-full overflow-auto dark:bg-gray-900">

            </div>
            <div hb-loader="true" class="hidden flex justify-center items-center absolute top-0 bottom-0 left-0 right-0">
              {{{embed "_spinner" size="14"}}}
            </div>
          </div>
          <div class="hidden relative grow flex flex-col col-span-4 border-l border-gray-200 dark:border-gray-700 overflow-hidden">
            <div id="hb-data-item-editor" class="flex flex-col h-full w-full ">
              <div class="flex items-center p-2 border-t text-gray-700 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700">
                <h4 id="hb-editor-title" class="grow opacity-[75%]"></h4>
                {{{embed "_button" id="hb-close-editor" class=null text="Close" style="link"}}}
              </div>
              <div id="hb-editor-container" class="grow"></div>
              <div class="p-2 border-t text-gray-700 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700">
                {{{embed "_button" id="hb-save-item" class=null type="button" text="Save" width="full" color="rose" }}}
              </div>
            </div>
            <div hb-loader="true" class="hidden flex justify-center items-center absolute top-0 bottom-0 left-0 right-0">
              {{{embed "_spinner" size="14"}}}
            </div>
          </div>
        {{/content}}
      {{/embed}}
    </section>
  {{/content}}
  {{#content "styles"}}
    {{styles (replace "/public/libs/prism-{THEME}.css" "{THEME}" settings.theme)}}
  {{/content}}
  {{#content "scripts"}}
    {{scripts "https://cdn.jsdelivr.net/npm/ace-builds@1.12.5/src-noconflict/ace[.min].js,
               /public/libs/prism.js,
               /public/hotbars/data.js"}}

    <script>
      $(() => $("#collection-form").form({}))
    </script>
  {{/content}}
{{/extend}}